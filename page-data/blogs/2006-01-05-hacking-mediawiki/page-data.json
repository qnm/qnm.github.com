{"componentChunkName":"component---src-templates-post-js","path":"/blogs/2006-01-05-hacking-mediawiki/","webpackCompilationHash":"67189de09e8bdc4193d5","result":{"data":{"markdownRemark":{"html":"<p>Mediawiki seems to be a great open-source project - it has a very large customer site (<a href=\"http://www.wikipedia.org\">Wikipedia</a>), full time development and maintainence staff, yet still I struggled to find doco to enable me to customise it to my needs. I even got the standard RTFM from the IRC channel - great way to attract new developers, guys! All I wanted to do was update a wiki page from inside the application...</p>\n<p>Contrast this to my experience customising Gallery2, which was a much bigger problem - synchronise changes to data across a group of servers - and I got loads of great help from the IRC channel. We ended up with a more pragmatic solution (running G2 on its own box), but it's good to know the support is there when you need it.</p>\n<p>Anyway, for anyone who wants to know how to programatically update or append to a wiki page, here's whatI came up with:</p>\n<pre>$myNewContent = \"Brillant!\";</pre>\n<pre>$articleName = \"User_talk:\" . $wgUser->getName(); // get the user talk page for the logged in user</pre>\n<pre>$articleTitle = Title::newFromText($articleName); // create a wiki title name from the friendly name</pre>\n<pre>$articleToUpdate = new Article ($articleTitle); // get an article instance</pre>\n<pre>$currentContent = $articleToUpdate->getContentWithoutUsingSoManyDamnGlobals(); // i love comedy function names :-(\n</pre>\n<pre>$newContent = $currentContent . \"\\n\" . $myNewContent; // create page content</pre>\n<pre>$articleToUpdate->quickEdit( $newContent ); // update the article with the new content</pre>\n<p>Caveat Emptor - this doesn't take into account revisions, so you can't rollback a page after editing. I'm working on that though...</p>","frontmatter":{"title":"Hacking Mediawiki","date":null,"read":null,"image":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABY6QLd5DDf//EAB0QAAAFBQAAAAAAAAAAAAAAAAABAgMRBBATISL/2gAIAQEAAQUCJ9M5Ug6jaeg6UW//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BV//EABkQAAIDAQAAAAAAAAAAAAAAAAABECExEf/aAAgBAQAGPwLjTRpSNKcf/8QAGxABAAICAwAAAAAAAAAAAAAAAQARMUFhcaH/2gAIAQEAAT8h8gErNuouBXMKhVTqURQi2z//2gAMAwEAAgADAAAAEDQ//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERUf/aAAgBAwEBPxBMjD//xAAWEQEBAQAAAAAAAAAAAAAAAAARACH/2gAIAQIBAT8Q0ZX/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEhMUFRgZH/2gAIAQEAAT8QAGbpbD8is1pxky4qnV8sNHswddxxITIt37FRVuf/2Q==","aspectRatio":1.5,"src":"/static/fe41991fff7a0e140d1f9c77ea8022b9/30037/tokyo.jpg","srcSet":"/static/fe41991fff7a0e140d1f9c77ea8022b9/10bdc/tokyo.jpg 158w,\n/static/fe41991fff7a0e140d1f9c77ea8022b9/f4ab0/tokyo.jpg 315w,\n/static/fe41991fff7a0e140d1f9c77ea8022b9/30037/tokyo.jpg 630w,\n/static/fe41991fff7a0e140d1f9c77ea8022b9/9810d/tokyo.jpg 945w,\n/static/fe41991fff7a0e140d1f9c77ea8022b9/ff2e4/tokyo.jpg 1260w,\n/static/fe41991fff7a0e140d1f9c77ea8022b9/bab44/tokyo.jpg 6240w","sizes":"(max-width: 630px) 100vw, 630px"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blogs/2006-01-05-hacking-mediawiki/"}}}